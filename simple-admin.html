<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>店舗管理画面</title></head><body>

<h1 style="text-align:center;color:#2c5f2d;">店舗管理画面</h1>
<div id="status" style="text-align:center;margin:20px;font-size:18px;">データ読み込み中...</div>
<div id="shops" style="max-width:1000px;margin:0 auto;"></div>

<script>
// 即座に実行
(function() {
    console.log('管理画面開始');
    
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'https://gf-fes-api.bettger1000.workers.dev/api/shops', true);
    xhr.onload = function() {
        if (xhr.status === 200) {
            var shops = JSON.parse(xhr.responseText);
            console.log('店舗取得成功:', shops.length, '件');
            
            document.getElementById('status').innerHTML = '✅ ' + shops.length + '件の店舗を表示中';
            
            var html = '';
            for (var i = 0; i < shops.length; i++) {
                var shop = shops[i];
                html += '<div style="background:white;border:1px solid #ddd;margin:10px;padding:15px;border-radius:5px;">';
                html += '<h3 style="color:#2c5f2d;">' + shop.name + '</h3>';
                html += '<p>📍 ' + (shop.address || '住所未設定') + '</p>';
                html += '<p>🏷️ ' + (shop.category ? shop.category.join(', ') : '未分類') + '</p>';
                if (shop.concept) {
                    html += '<p style="font-style:italic;background:#f0f8f0;padding:8px;margin:8px 0;">' + shop.concept + '</p>';
                }
                html += '</div>';
            }
            
            document.getElementById('shops').innerHTML = html;
            console.log('表示完了');
        } else {
            console.error('API エラー:', xhr.status);
            document.getElementById('status').innerHTML = '❌ エラー: ' + xhr.status;
        }
    };
    xhr.onerror = function() {
        console.error('通信エラー');
        document.getElementById('status').innerHTML = '❌ 通信エラー';
    };
    xhr.send();
})();
</script>

<style>
body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
</style>

</body></html>