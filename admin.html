<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>店舗管理画面</title>
</head>
<body>

<h1 style="text-align:center;color:#4A5D4F;">店舗管理画面</h1>
<div id="loading" style="text-align:center;padding:20px;">読み込み中...</div>
<div id="shops" style="max-width:1200px;margin:0 auto;padding:20px;"></div>

<script>
console.log('管理画面スタート');

// 即座に実行
var apiUrl = 'https://gf-fes-api.bettger1000.workers.dev/api/shops';

fetch(apiUrl)
  .then(function(response) {
    console.log('APIレスポンス:', response.status);
    return response.json();
  })
  .then(function(shops) {
    console.log('店舗数:', shops.length);
    
    document.getElementById('loading').style.display = 'none';
    
    var html = '<h2 style="color:#2c5f2d;text-align:center;margin-bottom:30px;">✅ ' + shops.length + '件の店舗を管理中</h2>';
    html += '<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;">';
    
    shops.forEach(function(shop) {
      html += '<div style="background:white;border:2px solid #2c5f2d;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);">';
      html += '<h3 style="color:#2c5f2d;margin:0 0 10px 0;">' + shop.name + '</h3>';
      html += '<p style="margin:5px 0;color:#666;">📍 ' + (shop.address || '住所未設定') + '</p>';
      
      if (shop.category && shop.category.length > 0) {
        html += '<p style="margin:5px 0;color:#666;">🏷️ ' + shop.category.join(', ') + '</p>';
      }
      
      if (shop.targetCustomer) {
        html += '<p style="margin:5px 0;color:#666;">🎯 ' + shop.targetCustomer + '</p>';
      }
      
      if (shop.concept) {
        html += '<div style="background:#f0f8f0;padding:10px;margin:10px 0;border-radius:5px;font-style:italic;border-left:3px solid #2c5f2d;">';
        html += shop.concept;
        html += '</div>';
      }
      
      html += '</div>';
    });
    
    html += '</div>';
    document.getElementById('shops').innerHTML = html;
    console.log('表示完了');
  })
  .catch(function(error) {
    console.error('エラー:', error);
    document.getElementById('loading').innerHTML = '❌ エラーが発生しました: ' + error.message;
  });
</script>

<style>
body {
  font-family: 'Noto Sans JP', Arial, sans-serif;
  background: #F5F3F0;
  margin: 0;
  padding: 20px;
}
</style>

</body>
</html>