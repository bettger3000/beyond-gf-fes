<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>åº—èˆ—ç®¡ç† ç¾åœ¨æ™‚åˆ»: $(date)</title></head><body>
<h1 style="text-align:center;color:#2c5f2d;">ğŸ åº—èˆ—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </h1>
<div id="status" style="text-align:center;font-size:18px;padding:20px;">èª­ã¿è¾¼ã¿ä¸­...</div>
<div id="shops" style="max-width:1000px;margin:0 auto;"></div>

<script>
console.log('=== åº—èˆ—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ é–‹å§‹ ===');

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†å¾Œã«å®Ÿè¡Œ
window.onload = function() {
    console.log('ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†');
    loadShopsData();
};

function loadShopsData() {
    console.log('APIå‘¼ã³å‡ºã—é–‹å§‹');
    
    fetch('https://gf-fes-api.bettger1000.workers.dev/api/shops')
        .then(function(response) {
            console.log('APIå¿œç­”ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:', response.status);
            if (!response.ok) {
                throw new Error('APIã‚¨ãƒ©ãƒ¼: ' + response.status);
            }
            return response.json();
        })
        .then(function(shops) {
            console.log('âœ… åº—èˆ—ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ:', shops.length, 'ä»¶');
            
            // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
            document.getElementById('status').innerHTML = 'âœ… ' + shops.length + 'ä»¶ã®åº—èˆ—ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºä¸­';
            
            // åº—èˆ—HTMLç”Ÿæˆ
            var html = '';
            for (var i = 0; i < shops.length; i++) {
                var shop = shops[i];
                console.log('åº—èˆ—' + (i+1) + ':', shop.name);
                
                html += '<div style="background:white;border:2px solid #ddd;margin:10px;padding:20px;border-radius:8px;">';
                html += '<h3 style="color:#2c5f2d;margin:0 0 10px;">' + (shop.name || 'æœªè¨­å®š') + '</h3>';
                html += '<div style="margin:5px 0;">ğŸ“ ' + (shop.address || 'ä½æ‰€æœªè¨­å®š') + '</div>';
                
                if (shop.category && Array.isArray(shop.category)) {
                    html += '<div style="margin:5px 0;">ğŸ·ï¸ ' + shop.category.join(', ') + '</div>';
                }
                
                if (shop.concept) {
                    html += '<div style="background:#f0f8f0;padding:10px;margin:10px 0;border-radius:5px;font-style:italic;">"' + shop.concept + '"</div>';
                }
                
                html += '</div>';
            }
            
            document.getElementById('shops').innerHTML = html;
            console.log('âœ… è¡¨ç¤ºå®Œäº†');
        })
        .catch(function(error) {
            console.error('âŒ ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ:', error);
            document.getElementById('status').innerHTML = 'âŒ ã‚¨ãƒ©ãƒ¼: ' + error.message;
        });
}
</script>

<style>
body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 20px; }
</style>

</body></html>